{"version":3,"sources":["scripts/router.js","scripts/html.js","scripts/utils.js","scripts/Section.js","scripts/cards/card.js","scripts/Title.js","scripts/app.js","node_modules/parcel-bundler/src/builtins/bundle-url.js","node_modules/parcel-bundler/src/builtins/bundle-loader.js","node_modules/parcel-bundler/src/builtins/loaders/browser/html-loader.js"],"names":["Router","routeConfig","targetEl","_isRouting","routes","register","_fallbackRoute","fallback","_setInitialRoute","route","path","currentPath","window","location","pathname","isSamePath","to","history","pushState","Promise","resolve","then","_unMountRoute","_mountRoute","willUnmount","removeChild","renderable","appendChild","didMount","initialPath","htmlToElement","html","template","document","createElement","trim","innerHTML","content","firstChild","delay","wait","reject","setTimeout","Section","id","title","cards","backgroundEl","color","event","CustomEvent","style","background","backgroundColor","cardMargin","currentScrollZone","active","appWrapper","querySelector","wrapper","forEach","card","i","shiftDepth","addEventListener","_setMainWrapperHeight","_setCardWidths","throttleScrollEffects","_shiftCardDepths","scrollY","dispatchEvent","prototype","animateIn","scrollTo","classList","remove","all","map","animateOut","add","setWidth","el","offsetWidth","newHeight","cardAndMargin","getHeight","height","scrollVal","totalMargin","totalCardHeight","startOfZones","length","startOfNextScrollZone","push","zoneHeight","percentageCompleteWithZone","depthHasUpdated","almostUpdated","Math","max","Card","easeInOutCubic","x","pow","specialDepth","originalDepth","percent","reverseImpact","console","log","depth","newStyle","position","top","zIndex","opacity","left","transform","scrollHeight","width","Title","toUpperCase","scrollAmt","requestAnimationFrame","animateTitle","opacityScrollVal","toFixed","scaleScrollVal","APP_CONTAINER","getRoute","titleString","sectionBackgroundEl","section","router","about","p2p","gifting","jaws","songlink","plantMW","crossfit","ekk","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","require","loadBundlesLazy","bundles","Array","isArray","code","LazyPromise","loadBundles","slice","loadBundle","bundleLoaders","registerBundleLoader","type","loader","module","load","bundle","substring","lastIndexOf","toLowerCase","bundleLoader","resolved","catch","e","executor","promise","onSuccess","onError","fetch","res","text"],"mappings":"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","file":"app.725d008f.js","sourceRoot":"..","sourcesContent":["export default class Router {\n  constructor(routeConfig, targetEl) {\n    // this._eventQueue = [];\n    // this._setupMutationObserver(this.targetEl);\n    this._isRouting = false; // throttle routing to not complicate animations\n    this.targetEl = targetEl;\n    this.routes = {};\n    this.register(routeConfig);\n    this._fallbackRoute = routeConfig.fallback;\n    this._setInitialRoute();\n    // TODO listen for changes from back and next button\n  }\n  register(routeConfig) {\n    // TODO add support for nested routers?\n    for (let route in routeConfig) {\n      this.routes[route] = routeConfig[route];\n    }\n  }\n  to(path) {\n    const currentPath = window.location.pathname;\n    const isSamePath = currentPath === path;\n    if (this._isRouting || isSamePath) {\n      // throttle if we're already routing,\n      // or simply ignore if we're already on the route\n      return;\n    }\n    // TODO I don't think this needs to go here\n    const isRouteSupported = !!this.routes[path];\n    if (!isRouteSupported) {\n      return this.to(this._fallbackRoute);\n    }\n    window.history.pushState(null, null, path);\n    Promise.resolve()\n      .then(() => {\n        if (this.routes[currentPath]) {\n          return this._unMountRoute(currentPath);\n        }\n      })\n      .then(() => {\n        return this._mountRoute(path);\n      });\n  }\n  _unMountRoute(path) {\n    const route = this.routes[path];\n    return route.willUnmount().then(() => {\n      this.targetEl.removeChild(route.renderable)\n    });\n  }\n  _mountRoute(path) {\n    const route = this.routes[path];\n    this.targetEl.appendChild(route.renderable);\n    return route.didMount().then(() => {\n      // at this point a new route has been mounted,\n      // the didMount callback is complete,\n      // and we no longer need to throttle the router\n      this._isRouting = false;\n    });\n  }\n  // _setupMutationObserver(targetEl) {\n  //   const observer = new MutationObserver(this._handleMountEvents.bind(this));\n  //   observer.observe(targetEl, { childList: true, subtree: false });\n  // }\n  // _handleMountEvents() {\n  //   const event = this._eventQueue.shift();\n  //   event();\n  // }\n  _setInitialRoute() {\n    const {\n      location: { pathname: initialPath },\n    } = window;\n    if (this.routes[initialPath]) {\n      this._mountRoute(initialPath);\n    } else {\n      this.to(this._fallbackRoute);\n    }\n  }\n}\n","export function htmlToElement(html) {\n  var template = document.createElement('template');\n  html = html.trim();\n  template.innerHTML = html;\n  return template.content.firstChild;\n}\n","export const delay = (wait) =>\n  new Promise((resolve, reject) => {\n    setTimeout(() => {\n      resolve();\n    }, wait);\n  });\n","import { htmlToElement } from \"./html\";\nimport { delay } from \"./utils\";\n\n// TODO reset the width when the window resizes\n\nexport default function Section(id, title, cards, backgroundEl, color) {\n  const template = `\n    <div class=\"sectionContainer inactive\"></div>\n  `;\n  // TODO get rid of id and custom event\n  const event = new CustomEvent(id + \"Scroll\");\n  backgroundEl.style.background = `linear-gradient(142deg, ${color}, transparent)`\n  backgroundEl.style.backgroundColor = cards[0].backgroundColor\n  this.backgroundEl = backgroundEl;\n  this.cardMargin = 100; // check _cards.scss ....\n  this.currentScrollZone = 0;\n  this.active = false; // currently visible in the view\n  this.appWrapper = document.querySelector(\".main-wrapper\");\n  this.wrapper = htmlToElement(template);\n  this.wrapper.appendChild(title.renderable());\n  this.cards = cards;\n  this.cards.forEach((card, i) => {\n    card.shiftDepth(i);\n    this.wrapper.appendChild(card.renderable());\n  });\n\n  window.addEventListener(\"resize\", () => {\n    if (!this.active) return;\n    this._setMainWrapperHeight();\n    this._setCardWidths();\n  });\n\n  let throttleScrollEffects = false;\n  window.addEventListener(\"scroll\", () => {\n    if (!this.active) {\n      return;\n    }\n    if (throttleScrollEffects) {\n      return;\n    } else {\n      this._shiftCardDepths(window.scrollY);\n      throttleScrollEffects = true;\n      setTimeout(() => {\n        throttleScrollEffects = false;\n      }, 30);\n    }\n    window.dispatchEvent(event);\n  });\n}\n\nSection.prototype.renderable = function renderable() {\n  return this.wrapper;\n};\n\nSection.prototype.animateIn = function animateIn() {\n  return Promise.resolve()\n    .then(() => delay(50)) // ugh, need to add a delay here so we can give the browser time to paint the DOM to the screen\n    .then(() => {\n      this.active = true;\n      window.scrollTo(0, 0);\n      this.wrapper.classList.remove(\"inactive\");\n      this.backgroundEl.classList.remove(\"inactive\");\n      this._setMainWrapperHeight();\n      this._setCardWidths();\n      return Promise.all(\n        this.cards.map(\n          (card, i) =>\n            new Promise((resolve, reject) => {\n              setTimeout(() => {\n                card.animateIn();\n              }, 300 * i);\n            })\n        )\n      );\n    });\n};\n\nSection.prototype.animateOut = function animateOut() {\n  return Promise.resolve()\n    .then(() => {\n      this.active = false;\n      this.wrapper.classList.add(\"inactive\");\n      this.backgroundEl.classList.add(\"inactive\");\n      this.cards.forEach((card) => {\n        card.animateOut();\n      });\n    })\n    .then(() => {\n      return delay(600);\n    });\n};\n\nSection.prototype._setCardWidths = function _setCardWidths() {\n  this.cards.forEach((card, i) => {\n    if (i !== 0) {\n      card.setWidth(this.cards[0].el.offsetWidth + \"px\");\n    }\n  });\n};\n\nSection.prototype._setMainWrapperHeight = function setMainWrapperHeight() {\n  let newHeight = 0;\n  this.cards.forEach((card) => {\n    let cardAndMargin = card.getHeight() + this.cardMargin;\n    newHeight += cardAndMargin;\n  });\n  this.appWrapper.style.height = newHeight + \"px\";\n};\n\nSection.prototype._shiftCardDepths = function _shiftCardDepths(scrollVal) {\n  let currentScrollZone = this.currentScrollZone;\n  let totalMargin = 0;\n  let totalCardHeight = 0;\n  let startOfZones = [0];\n  for (let i = 0; i < this.cards.length; i++) {\n    totalMargin += this.cardMargin;\n    totalCardHeight += this.cards[i].getHeight();\n    let startOfNextScrollZone = totalMargin + totalCardHeight;\n    startOfZones.push(startOfNextScrollZone);\n    if (scrollVal < startOfNextScrollZone) {\n      // you're not in the next scrollZone, you're in this one\n      currentScrollZone = i;\n      break;\n    }\n  }\n  const zoneHeight =\n    startOfZones[currentScrollZone + 1] - startOfZones[currentScrollZone];\n  const zoneOffsetScrollHeight = scrollVal - startOfZones[currentScrollZone];\n  const percentageCompleteWithZone = zoneOffsetScrollHeight / zoneHeight;\n  let depthHasUpdated = currentScrollZone !== this.currentScrollZone;\n  let almostUpdated = percentageCompleteWithZone > 0.8;\n  if (depthHasUpdated) {\n    this.backgroundEl.style.backgroundColor = this.cards[currentScrollZone].backgroundColor\n  }\n  if (depthHasUpdated || almostUpdated) {\n    this.currentScrollZone = currentScrollZone;\n    this.cards.forEach((card, i) => {\n      card.shiftDepth(\n        Math.max(i - this.currentScrollZone, 0),\n        percentageCompleteWithZone >= 1 ? 0 : percentageCompleteWithZone // I need to see 100% as 0%\n      );\n    });\n  }\n};\n","import { htmlToElement } from \"../html\";\n\nexport default function Card(html, backgroundColor) {\n  this.backgroundColor = backgroundColor;\n  this.el = htmlToElement(html);\n}\n\nCard.prototype.renderable = function render() {\n  return this.el;\n};\n\nCard.prototype.animateIn = function animateIn() {\n  console.log(this.el.classList);\n  this.el.classList.remove(\"unloaded\");\n};\n\nCard.prototype.animateOut = function animateOut() {\n  this.el.classList.add(\"unloaded\");\n};\n\nCard.prototype.shiftDepth = function shiftDepth(\n  depth,\n  percentageCompleteWithZone\n) {\n  const newStyle = {\n    position: \"fixed\",\n    top: `${175 - 32 * specialDepth(depth, percentageCompleteWithZone)}px`,\n    zIndex: depth * -10,\n    opacity: 1 - 0.4 * specialDepth(depth, percentageCompleteWithZone),\n    left: `calc((99vw - 250px) * .5 + 250px - ${this.el.offsetWidth * 0.5})`,\n    transform: `scale(${\n      1 - 0.04 * specialDepth(depth, percentageCompleteWithZone)\n    })`,\n    //\n    // something wacko is happening with CSS 3D space,\n    // when the heights of different objects are pushed back\n    // — despite perspective-origin or anything —\n    // the top edge of the objects do not align\n    height: \"1000px\",\n  };\n  for (let style in newStyle) {\n    if (depth === 0) {\n      // you're being viewed, and you don't\n      // need extra styles — remove them if you had them\n      this.el.style[style] = null;\n    } else {\n      this.el.style[style] = newStyle[style];\n    }\n  }\n};\n\nCard.prototype.getHeight = function getHeight() {\n  // because the fixed cards in the bg require fixed height,\n  // we use scrollHeight to see what those elements would be in normal page flow\n  // see \"wacko\" comment above\n  return this.el.scrollHeight;\n};\n\nCard.prototype.setWidth = function setWidth(width) {\n  this.el.style.width = width;\n};\n\nfunction easeInOutCubic(x) {\n  // awesome website https://easings.net/\n  return x < 0.5 ? 4 * x * x * x : 1 - Math.pow(-2 * x + 2, 3) / 2;\n}\n\nfunction specialDepth(originalDepth, percent) {\n  let reverseImpact = 1; // lol\n  if (percent > 0.8) {\n    // ease a curve through last 20% of zone only\n    reverseImpact = easeInOutCubic((1 - percent) * 5); // some number between 0 - 1\n  }\n  return originalDepth - (1 - reverseImpact);\n}\n","import { htmlToElement } from \"./html\";\n\nexport default function Title(id, title) {\n  console.log(id);\n  const template = `\n\t  <div class=\"titleContainer\">\n      <h2>${title.toUpperCase()}</h2>\n    </div>\n\t`;\n  this.el = htmlToElement(template);\n  window.addEventListener(id + \"Scroll\", () => {\n    const scrollAmt = window.scrollY;\n    if (scrollAmt < 250) {\n      window.requestAnimationFrame(() => {\n        this.animateTitle(scrollAmt);\n      });\n    }\n  });\n}\n\nTitle.prototype.renderable = function renderable() {\n  return this.el;\n};\n\nTitle.prototype.animateTitle = function animateTitle(scrollAmt) {\n  if (scrollAmt < 10) {\n    this.el.style.opacity = 1;\n    this.el.style.transform = \"scale(1)\";\n  } else if (scrollAmt >= 10 && scrollAmt <= 60) {\n    // change opacity\n    // the scrollVal is what's *subtracted* from the opacity of the element\n    // scrollVal begins changing after 10 initial pixels have been scrolled\n    // opacity changes from 1 to 0 over 50 scrolled pixels ((50 * 2) / 100 = 1)\n    const opacityScrollVal = ((scrollAmt - 10) * 2) / 100;\n    this.el.style.opacity = \"\" + 1 - opacityScrollVal.toFixed(3);\n\n    // change scale\n    // this works to shift the scale down from 1 to .99\n    // like the opacityScrollVal, scaleScrollVal starts tracking after 10 initial pixels have been scrolled\n    // it completes the change after 50 pixels — (50 * .5) / 1000 = .01\n    const scaleScrollVal = ((scrollAmt - 10) * 0.5) / 1000;\n    this.el.style.transform =\n      \"scale(\" + (1 - scaleScrollVal.toFixed(3)) + \")\";\n  } else {\n    this.el.style.opacity = 0;\n    this.el.style.transform = \"scale(.99)\";\n  }\n};\n","import Router from \"./router\";\nimport Section from \"./Section\";\nimport Card from \"./cards/card\";\nimport Title from \"./Title\";\nimport about from \"./cards/views/about.html\";\nimport songlink from \"./cards/views/songlink.html\";\nimport plantMW from \"./cards/views/plant-midwest.html\";\nimport p2p from \"./cards/views/p2p.html\";\nimport gifting from \"./cards/views/gifting.html\";\nimport jaws from \"./cards/views/jaws.html\";\nimport crossfit from \"./cards/views/crossfit.html\";\nimport ekk from \"./cards/views/ekk.html\";\n// import \"./mobileNav\"; // fix this later\n\nconst APP_CONTAINER = document.querySelector(\"#APP\");\n\nwindow.router = new Router(\n  {\n    fallback: \"/about\",\n    \"/about\": getRoute(\"aboutSection\", \"about\", \"#2d2d2d\", [\n      new Card(about, \"#b5b5b5\"),\n    ]),\n    \"/paypal\": getRoute(\"bla\", \"paypal\", \"#0070ba\", [\n      new Card(p2p, \"#dcd9f5\"),\n      new Card(gifting, \"#bb8be6\"),\n      new Card(jaws, \"red\"),\n    ]),\n    \"/misc\": getRoute(\"sldjf\", \"side projects\", \"#7a88d0\", [\n      new Card(songlink, \"red\"),\n    ]),\n    \"/design\": getRoute(\"lsdjf\", \"design\", \"#7a88d0\", [\n      new Card(plantMW, \"#4232c7\"),\n      new Card(crossfit, \"#b77272\"),\n      new Card(ekk, \"red\"),\n    ]),\n  },\n  APP_CONTAINER\n);\n\nfunction getRoute(id, titleString, color, cards) {\n  const sectionBackgroundEl = document.createElement(\"div\");\n  sectionBackgroundEl.classList.add(\"section-bg-gradient\", \"inactive\");\n  APP_CONTAINER.appendChild(sectionBackgroundEl);\n  const title = new Title(id, titleString);\n  const section = new Section(id, title, cards, sectionBackgroundEl, color);\n  return {\n    renderable: section.renderable(),\n    didMount: () => Promise.resolve().then(() => section.animateIn()),\n    willUnmount: () => section.animateOut(),\n  };\n}\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var getBundleURL = require('./bundle-url').getBundleURL;\n\nfunction loadBundlesLazy(bundles) {\n  if (!Array.isArray(bundles)) {\n    bundles = [bundles]\n  }\n\n  var id = bundles[bundles.length - 1];\n\n  try {\n    return Promise.resolve(require(id));\n  } catch (err) {\n    if (err.code === 'MODULE_NOT_FOUND') {\n      return new LazyPromise(function (resolve, reject) {\n        loadBundles(bundles.slice(0, -1))\n          .then(function () {\n            return require(id);\n          })\n          .then(resolve, reject);\n      });\n    }\n\n    throw err;\n  }\n}\n\nfunction loadBundles(bundles) {\n  return Promise.all(bundles.map(loadBundle));\n}\n\nvar bundleLoaders = {};\nfunction registerBundleLoader(type, loader) {\n  bundleLoaders[type] = loader;\n}\n\nmodule.exports = exports = loadBundlesLazy;\nexports.load = loadBundles;\nexports.register = registerBundleLoader;\n\nvar bundles = {};\nfunction loadBundle(bundle) {\n  var id;\n  if (Array.isArray(bundle)) {\n    id = bundle[1];\n    bundle = bundle[0];\n  }\n\n  if (bundles[bundle]) {\n    return bundles[bundle];\n  }\n\n  var type = (bundle.substring(bundle.lastIndexOf('.') + 1, bundle.length) || bundle).toLowerCase();\n  var bundleLoader = bundleLoaders[type];\n  if (bundleLoader) {\n    return bundles[bundle] = bundleLoader(getBundleURL() + bundle)\n      .then(function (resolved) {\n        if (resolved) {\n          module.bundle.register(id, resolved);\n        }\n\n        return resolved;\n      }).catch(function(e) {\n        delete bundles[bundle];\n        \n        throw e;\n      });\n  }\n}\n\nfunction LazyPromise(executor) {\n  this.executor = executor;\n  this.promise = null;\n}\n\nLazyPromise.prototype.then = function (onSuccess, onError) {\n  if (this.promise === null) this.promise = new Promise(this.executor)\n  return this.promise.then(onSuccess, onError)\n};\n\nLazyPromise.prototype.catch = function (onError) {\n  if (this.promise === null) this.promise = new Promise(this.executor)\n  return this.promise.catch(onError)\n};\n","module.exports = function loadHTMLBundle(bundle) {\n  return fetch(bundle).then(function (res) {\n    return res.text();\n  });\n};\n"]}